!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";function n(t,e){for(let i in e)t.style[i]=e[i]}i.r(e);var o=function(t,e,i,o,r=""){this.x=t,this.y=e,this.width=i,this.height=o,this.direction=r;let h=document.createElement("div");this.getElement=function(){return h},n(h,{position:"absolute",left:this.x+"px",top:this.y+"px",width:this.width+"px",height:this.height+"px",backgroundColor:"black"})};var r=function(t,e=""){const i=t.getBlockSize();let r=[],h=(e,i,n,h,d)=>{const a=new o(e,i,n,h,d);return r.push(a),t.appendChild(a.getElement()),a};this.head=h(i,i,2*i,2*i,e);this.move=function(){const e=t.offsetWidth,o=t.offsetHeight,r=this.head;!function(t,e){switch(t.direction=e,e){case"right":t.x+=i;break;case"left":t.x-=i;break;case"up":t.y-=i;break;case"down":t.y+=i}}(this.head,this.head.direction),r.x<0?r.x=e-r.width:r.x+r.width>e?r.x=0:r.y<0?r.y=o-r.height:r.y+r.height>o&&(r.y=0),n(this.head.getElement(),{left:this.head.x+"px",top:this.head.y+"px"})},this.eat=function(t){if(t.x<=this.head.x&&this.head.x<=t.x+t.width&&t.y<=this.head.y&&this.head.y<=t.y+t.height){let t=new Event("eat");this.head.getElement().dispatchEvent(t)}},this.grow=function(){let t=r[0];if(console.log(r.length),console.log(t),"left"===t.direction){let e=t.x+t.width,i=t.y;h(e,i,t.width,t.height,t.direction)}else if("right"===t.direction){let e=Math.abs(t.x-t.width),i=t.y;h(e,i,t.width,t.height,t.direction)}else if("down"===t.direction){let e=t.x,i=Math.abs(t.y-t.height);h(e,i,t.width,t.height,t.direction)}else if("up"===t.direction){let e=t.x,i=t.y+t.height;h(e,i,t.width,t.height,t.direction)}}};var h=function(t){const e=t.getBlockSize();this.init=function(){this.width=2*e,this.height=2*e,this.x=Math.floor(99*Math.random())*e,this.y=Math.floor(39*Math.random())*e;const i=document.createElement("div");return n(i,{position:"absolute",left:this.x+"px",top:this.y+"px",width:this.width+"px",height:this.height+"px",backgroundColor:"red"}),t.appendChild(i),i.destroy=()=>{t.removeChild(i)},i}};var d=function(t){this.start=function(){const e=new h(t);let i=e.init();const n=new r(t);window.addEventListener("keydown",t=>{switch(t.code){case"ArrowUp":n.head.direction="up";break;case"ArrowDown":n.head.direction="down";break;case"ArrowLeft":n.head.direction="left";break;case"ArrowRight":n.head.direction="right"}}),n.head.getElement().addEventListener("eat",(function(){i.destroy(),i=e.init(),n.grow()})),setInterval(()=>{n.move(),n.eat(e)},200)}};window.addEventListener("load",(function(){const t=document.querySelector("#root"),e=function(t){let e=document.createElement("div");return e.getBlockSize=()=>10,n(e,{position:"relative",width:100*e.getBlockSize()+"px",height:40*e.getBlockSize()+"px",margin:"5% auto",backgroundColor:"#80807a",backgroundImage:"linear-gradient(rgba(0, 255, 0, .7) 1px, transparent .1em), linear-gradient(90deg, rgba(0, 255, 0, .7) 1px, transparent .1em)",backgroundSize:"10px 10px"}),t.appendChild(e),e}(t);t.appendChild(e),new d(e).start()}))}]);
//# sourceMappingURL=main.js.map